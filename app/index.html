<!DOCTYPE html>
<html ng-app="involved">
  <head>
    <title>Involved</title>
    <link rel="stylesheet" href="./css/style.css">
  </head>
  <body class="flex-container flex-container-row" ng-controller="TimelineCtrl">
    <nav class="menus">
      <div class="profile">
        <img ng-src="{{me.avatar_url}}" class="avatar me">
        <span>{{me.login}}</span>
      </div>
    </nav>
    <section class="main-contents flex-container flex-container-row">
      <div class="timeline">
        <div class="timeline-cell" ng-repeat="t in timeline">
          <img ng-src="{{t.actor.avatar_url}}" class="avatar">
          <a href="{{t.actor.url}}" class="username">{{t.actor.login}}</a>
          <ng-switch on="t.type">
              <span ng-switch-when="CreateEvent">
                created {{t.payload.ref_type}} {{t.payload.ref}}
              </span>
              <span ng-switch-when="IssuesEvent">
                {{t.payload.action}} issue #{{t.payload.issue.number}}
              </span>
              <span ng-switch-when="IssueCommentEvent">
                commented on issue #{{t.payload.issue.number}}-comment{{t.payload.comment.id}}
              </span>
              <span ng-switch-when="PushEvent">
                pushed to {{t.payload.ref}}
              </span>
              <span ng-switch-when="PullRequestEvent">
                {{t.payload.action}} pull request
                #{{t.payload.pull_request.number}}
              </span>
              <span ng-switch-when="CommitCommentEvent">
                commented on commit at
                @{{t.payload.comment.commit_id}}-comment{{t.payload.comment.id}}
              </span>
              <span ng-switch-when="PullRequestReviewCommentEvent">
                commented on pull request
                #{{t.payload.pull_request.number}}-comment{{t.payload.comment.id}}
              </span>
              <span ng-switch-when="ReleaseEvent">
                released {{t.payload.release.name}}/{{t.payload.release.tag_name}}
              </span>
              <span ng-switch-when="DeleteEvent">
                deleted {{t.payload.ref_type}} {{t.payload.ref}}
              </span>
              <span ng-switch-default>
                {{t.type}} - {{t.payload.action}}
              </span>
          </ng-switch>
          at {{t.repo.name}} - {{t.created_at}}
        </div>
      </div>
      <div class="detail"></div>

    </section>

    <script src="./js/init.js"></script>
    <script src="./components/angular/angular.js"></script>
    <script src="./components/angular-resource/angular-resource.js"></script>
    <script src="./components/lodash/lodash.js"></script>
    <script src="./js/app.js"></script>
  </body>
</html>
